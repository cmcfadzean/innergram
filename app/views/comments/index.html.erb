<%= link_to 'Back', posts_path %>

<div class="post">
  <div class="post__user"><%= @post.user.email %></div>
  <%= link_to 'Edit', edit_post_path(@post) %>
  <%= link_to 'Destroy', @post, method: :delete, data: { confirm: 'Are you sure?' } %>
  <%= link_to @post do %><%= image_tag(@post.photo.url(:lg), class: "post__img", unless: @post.photo.nil?) %><% end %>
  <div class="post__actions">
    <%= link_to like_post_path(@post), method: :put do %>
      <i class="far fa-heart"></i> <%= @post.get_likes.size %>
    <% end %>
    <%= link_to @post do %>
      <i class="far fa-comment"></i> <%= @post.comments.size %>
    <% end %>
  </div>
  <div class="post__body">
    <%= @post.body %>
  </div>
</div>

<% @comments.each do |comment| %>
  <div class="comment">
    <div class="comment__user">
      <%= comment.user.email %>
    </div>
    <%= link_to 'Edit', edit_post_comment_path(comment.post, comment) %>
    <%= link_to 'Destroy', [comment.post, comment], method: :delete, data: { confirm: 'Are you sure?' } %>
    <div class="comment__body">
      <%= comment.body %>
    </div>
  </div>
<% end %>

<%= link_to 'New Comment', new_post_comment_path(params[:post_id]) %>
